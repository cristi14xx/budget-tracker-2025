<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover">
  <meta name="theme-color" content="#000000">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Budget Pro</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Splash -->
  <div id="splash">
    <div class="splash-inner">
      <div class="splash-icon">ğŸ’°</div>
      <div class="splash-name">Budget Pro</div>
      <div class="splash-bar"></div>
    </div>
  </div>

  <!-- Auth -->
  <div id="auth" class="hidden">
    <div class="auth-brand">
      <div class="auth-brand-icon">ğŸ’°</div>
      <h1>Budget Pro</h1>
      <p>FinanÈ›ele tale, simplificate</p>
    </div>
    <div class="auth-tabs">
      <button class="auth-tab active" onclick="showAuthTab('login')">Conectare</button>
      <button class="auth-tab" onclick="showAuthTab('register')">Ãnregistrare</button>
    </div>
    <form id="loginForm" class="auth-form" onsubmit="handleLogin(event)">
      <input type="email" class="auth-input" id="loginEmail" placeholder="Email" required>
      <input type="password" class="auth-input" id="loginPass" placeholder="ParolÄƒ" required>
      <button type="submit" class="auth-btn">ConecteazÄƒ-te</button>
    </form>
    <form id="registerForm" class="auth-form hidden" onsubmit="handleRegister(event)">
      <input type="text" class="auth-input" id="regName" placeholder="Nume" required>
      <input type="email" class="auth-input" id="regEmail" placeholder="Email" required>
      <input type="password" class="auth-input" id="regPass" placeholder="ParolÄƒ" required>
      <button type="submit" class="auth-btn">CreeazÄƒ cont</button>
    </form>
  </div>

  <!-- App -->
  <div id="app" class="hidden">
    <header class="header">
      <button class="header-btn" onclick="openAI()">ğŸ¤–</button>
      <span class="header-title" id="headerTitle">Budget Pro</span>
      <div class="header-avatar" id="headerAvatar" onclick="goTo('menu')">U</div>
    </header>

    <main class="content">
      <!-- HOME -->
      <section id="homeView" class="view active">
        <div class="welcome">
          <div class="welcome-text" id="welcomeText">BunÄƒ! ğŸ‘‹</div>
          <div class="welcome-sub" id="welcomeSub">SÄƒ vedem cum stai cu banii</div>
        </div>

        <div class="hero-card">
          <div class="hero-label">BalanÈ›a lunii</div>
          <div class="hero-amount" id="heroBalance">0 RON</div>
          <div class="hero-row">
            <div class="hero-stat">
              <div class="hero-stat-icon up">â†‘</div>
              <div class="hero-stat-label">Venituri</div>
              <div class="hero-stat-value green" id="heroIncome">0</div>
            </div>
            <div class="hero-stat">
              <div class="hero-stat-icon down">â†“</div>
              <div class="hero-stat-label">Cheltuieli</div>
              <div class="hero-stat-value red" id="heroExpense">0</div>
            </div>
          </div>
        </div>

        <div class="month-nav">
          <button class="month-btn" onclick="prevMonth()">â€¹</button>
          <span class="month-text" id="monthText">Dec 2024</span>
          <button class="month-btn" onclick="nextMonth()">â€º</button>
        </div>

        <div class="quick-stats">
          <div class="stat-box">
            <div class="stat-value" id="statSavings">0%</div>
            <div class="stat-label">Economisit</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="statDaily">0</div>
            <div class="stat-label">Media/zi</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="statStreak">0ğŸ”¥</div>
            <div class="stat-label">Streak</div>
          </div>
        </div>

        <section class="section">
          <div class="section-head">
            <h2 class="section-title">Recente</h2>
            <button class="section-link" onclick="goTo('transactions')">Vezi toate</button>
          </div>
          <div class="tx-list" id="recentTx"></div>
        </section>
      </section>

      <!-- TRANSACTIONS -->
      <section id="transactionsView" class="view">
        <div class="search-box">
          <span class="search-icon">ğŸ”</span>
          <input type="text" id="searchInput" placeholder="CautÄƒ tranzacÈ›ii..." oninput="doSearch()">
        </div>
        <div class="filters">
          <button class="filter-btn active" data-f="all" onclick="setFilter('all')">Toate</button>
          <button class="filter-btn" data-f="expense" onclick="setFilter('expense')">Cheltuieli</button>
          <button class="filter-btn" data-f="income" onclick="setFilter('income')">Venituri</button>
        </div>
        <div class="month-nav">
          <button class="month-btn" onclick="prevMonth()">â€¹</button>
          <span class="month-text" id="txMonthText">Dec 2024</span>
          <button class="month-btn" onclick="nextMonth()">â€º</button>
        </div>
        <div class="tx-list" id="allTx"></div>
      </section>

      <!-- ANALYTICS -->
      <section id="analyticsView" class="view">
        <div class="score-hero">
          <div class="score-label">ğŸ’ª Scor sÄƒnÄƒtate financiarÄƒ</div>
          <div class="score-num" id="scoreNum">--</div>
          <div class="score-bar"><div class="score-fill" id="scoreFill" style="width:0%"></div></div>
        </div>

        <div class="metric-grid">
          <div class="metric-card">
            <div class="metric-icon">ğŸ”¥</div>
            <div class="metric-value" id="metricFire">0%</div>
            <div class="metric-label">Progres FIRE</div>
          </div>
          <div class="metric-card">
            <div class="metric-icon">ğŸ“…</div>
            <div class="metric-value" id="metricYears">--</div>
            <div class="metric-label">Ani pÃ¢nÄƒ FIRE</div>
          </div>
        </div>

        <div class="chart-box">
          <div class="chart-head">ğŸ“ˆ Trend 6 luni</div>
          <div class="chart-area"><canvas id="trendCanvas"></canvas></div>
        </div>

        <section class="section">
          <div class="section-head"><h2 class="section-title">ğŸ’¡ Sfaturi smart</h2></div>
          <div id="tipsList"></div>
        </section>
      </section>

      <!-- MENU -->
      <section id="menuView" class="view">
        <div class="profile-box">
          <div class="profile-pic" id="profilePic">U</div>
          <div class="profile-info">
            <div class="profile-name" id="profileName">Utilizator</div>
            <div class="profile-email" id="profileEmail">email@example.com</div>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-label">FinanÈ›e</div>
          <div class="menu-group">
            <button class="menu-item" onclick="goTo('goals')"><span class="menu-icon">ğŸ¯</span><span class="menu-text">Obiective</span><span class="menu-arrow">â€º</span></button>
            <button class="menu-item" onclick="goTo('budgets')"><span class="menu-icon">ğŸ“Š</span><span class="menu-text">Bugete</span><span class="menu-arrow">â€º</span></button>
            <button class="menu-item" onclick="goTo('accounts')"><span class="menu-icon">ğŸ¦</span><span class="menu-text">Conturi</span><span class="menu-arrow">â€º</span></button>
            <button class="menu-item" onclick="goTo('debts')"><span class="menu-icon">ğŸ¤</span><span class="menu-text">Datorii</span><span class="menu-arrow">â€º</span></button>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-label">CasÄƒ</div>
          <div class="menu-group">
            <button class="menu-item" onclick="goTo('utilities')"><span class="menu-icon">ğŸ’¡</span><span class="menu-text">UtilitÄƒÈ›i</span><span class="menu-arrow">â€º</span></button>
            <button class="menu-item" onclick="goTo('reminders')"><span class="menu-icon">â°</span><span class="menu-text">Remindere</span><span class="menu-arrow">â€º</span></button>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-label">Altele</div>
          <div class="menu-group">
            <button class="menu-item" onclick="goTo('achievements')"><span class="menu-icon">ğŸ†</span><span class="menu-text">Achievements</span><span class="menu-arrow">â€º</span></button>
            <button class="menu-item" onclick="goTo('settings')"><span class="menu-icon">âš™ï¸</span><span class="menu-text">SetÄƒri</span><span class="menu-arrow">â€º</span></button>
          </div>
        </div>

        <div class="menu-section">
          <div class="menu-group">
            <button class="menu-item danger" onclick="logout()"><span class="menu-icon">ğŸšª</span><span class="menu-text">Deconectare</span></button>
          </div>
        </div>
      </section>

      <!-- GOALS -->
      <section id="goalsView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">Obiective</h2>
          <button class="add-btn" onclick="openGoalModal()">+</button>
        </div>
        <div id="goalsList"></div>
      </section>

      <!-- BUDGETS -->
      <section id="budgetsView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">Bugete</h2>
          <button class="add-btn" onclick="openBudgetModal()">+</button>
        </div>
        <div id="budgetsList"></div>
      </section>

      <!-- ACCOUNTS -->
      <section id="accountsView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">Conturi</h2>
          <button class="add-btn" onclick="openAccountModal()">+</button>
        </div>
        <div id="accountsList"></div>
      </section>

      <!-- DEBTS -->
      <section id="debtsView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">Datorii</h2>
          <button class="add-btn" onclick="openDebtModal()">+</button>
        </div>
        <div id="debtsList"></div>
      </section>

      <!-- UTILITIES -->
      <section id="utilitiesView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">UtilitÄƒÈ›i</h2>
          <button class="add-btn" onclick="openUtilityModal()">+</button>
        </div>
        <div class="util-grid">
          <div class="util-card" onclick="openUtilityModal('electricity')">
            <div class="util-icon" style="background:rgba(234,179,8,0.2)">âš¡</div>
            <div class="util-name">Curent</div>
            <div class="util-value" id="uElec">--</div>
          </div>
          <div class="util-card" onclick="openUtilityModal('gas')">
            <div class="util-icon" style="background:rgba(249,115,22,0.2)">ğŸ”¥</div>
            <div class="util-name">Gaz</div>
            <div class="util-value" id="uGas">--</div>
          </div>
          <div class="util-card" onclick="openUtilityModal('water')">
            <div class="util-icon" style="background:rgba(59,130,246,0.2)">ğŸ’§</div>
            <div class="util-name">ApÄƒ</div>
            <div class="util-value" id="uWater">--</div>
          </div>
          <div class="util-card" onclick="openUtilityModal('internet')">
            <div class="util-icon" style="background:rgba(139,92,246,0.2)">ğŸ“¶</div>
            <div class="util-name">Internet</div>
            <div class="util-value" id="uNet">--</div>
          </div>
        </div>
        <div id="utilHistory"></div>
      </section>

      <!-- REMINDERS -->
      <section id="remindersView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">Remindere</h2>
          <button class="add-btn" onclick="openReminderModal()">+</button>
        </div>
        <div id="remindersList"></div>
      </section>

      <!-- ACHIEVEMENTS -->
      <section id="achievementsView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">Achievements</h2>
        </div>
        <div class="ach-hero">
          <div class="ach-count" id="achCount">0/30</div>
          <div class="ach-label">deblocate</div>
        </div>
        <div class="ach-grid" id="achGrid"></div>
      </section>

      <!-- SETTINGS -->
      <section id="settingsView" class="view">
        <div class="sub-header">
          <button class="back-btn" onclick="goTo('menu')">â†</button>
          <h2 class="sub-title">SetÄƒri</h2>
        </div>
        <div class="menu-section">
          <div class="menu-label">PreferinÈ›e</div>
          <div class="menu-group">
            <div class="menu-item">
              <span class="menu-icon">ğŸ’±</span>
              <span class="menu-text">MonedÄƒ</span>
              <select id="currencySel" onchange="setCurrency(this.value)" style="background:var(--card);border:1px solid var(--border);color:#fff;padding:8px 12px;border-radius:8px;font-size:14px;">
                <option value="RON">RON</option>
                <option value="EUR">EUR</option>
                <option value="USD">USD</option>
              </select>
            </div>
          </div>
        </div>
        <div class="menu-section">
          <div class="menu-label">Date</div>
          <div class="menu-group">
            <button class="menu-item" onclick="openModal('importModal')"><span class="menu-icon">ğŸ“„</span><span class="menu-text">Import PDF</span><span class="menu-arrow">â€º</span></button>
            <button class="menu-item" onclick="exportJSON()"><span class="menu-icon">ğŸ“¤</span><span class="menu-text">Export JSON</span></button>
            <button class="menu-item" onclick="exportCSV()"><span class="menu-icon">ğŸ“Š</span><span class="menu-text">Export CSV</span></button>
          </div>
        </div>
        <div class="menu-section">
          <div class="menu-label">FIRE Calculator</div>
          <div class="menu-group">
            <div class="menu-item">
              <span class="menu-icon">ğŸ’°</span>
              <input type="number" id="netWorthIn" placeholder="Patrimoniu total" style="flex:1;background:var(--card);border:1px solid var(--border);color:#fff;padding:10px;border-radius:8px;font-size:14px;">
              <button onclick="saveNetWorth()" style="background:var(--accent);border:none;color:#000;padding:10px 16px;border-radius:8px;font-weight:600;margin-left:8px;">Save</button>
            </div>
          </div>
        </div>
        <div class="menu-section">
          <div class="menu-group">
            <button class="menu-item danger" onclick="clearAllData()"><span class="menu-icon">ğŸ—‘ï¸</span><span class="menu-text">È˜terge toate datele</span></button>
          </div>
        </div>
      </section>
    </main>

    <!-- Bottom Nav -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-v="home" onclick="goTo('home')">
        <span class="nav-icon">ğŸ </span>AcasÄƒ
      </button>
      <button class="nav-btn" data-v="transactions" onclick="goTo('transactions')">
        <span class="nav-icon">ğŸ’³</span>Istoric
      </button>
      <button class="nav-btn fab" onclick="openTxModal()">
        <div class="fab-circle">+</div>
      </button>
      <button class="nav-btn" data-v="analytics" onclick="goTo('analytics')">
        <span class="nav-icon">ğŸ“Š</span>AnalizÄƒ
      </button>
      <button class="nav-btn" data-v="menu" onclick="goTo('menu')">
        <span class="nav-icon">â˜°</span>Cont
      </button>
    </nav>
  </div>

  <!-- MODALS -->
  <!-- Transaction Modal -->
  <div id="txModal" class="modal">
    <div class="modal-bg" onclick="closeModal('txModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head">
        <span class="modal-title" id="txModalTitle">TranzacÈ›ie nouÄƒ</span>
        <button class="modal-x" onclick="closeModal('txModal')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="type-tabs">
          <button class="type-tab expense active" data-t="expense" onclick="setTxType('expense')">ğŸ’¸ CheltuialÄƒ</button>
          <button class="type-tab income" data-t="income" onclick="setTxType('income')">ğŸ’µ Venit</button>
        </div>
        <form id="txForm" onsubmit="saveTx(event)">
          <input type="hidden" id="txId">
          <input type="hidden" id="txType" value="expense">
          <div class="form-row">
            <input type="number" class="form-input big" id="txAmount" placeholder="0" step="0.01" required>
          </div>
          <div class="form-row">
            <label class="form-label">Categorie</label>
            <select id="txCat" class="form-select" required onchange="loadSubcats()"></select>
          </div>
          <div class="form-row">
            <label class="form-label">Subcategorie</label>
            <select id="txSubcat" class="form-select"></select>
          </div>
          <div class="form-row">
            <label class="form-label">Data</label>
            <input type="date" id="txDate" class="form-input" required>
          </div>
          <div class="form-row">
            <label class="form-label">NotÄƒ (opÈ›ional)</label>
            <input type="text" id="txNote" class="form-input" placeholder="AdaugÄƒ o notÄƒ...">
          </div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- AI Modal -->
  <div id="aiModal" class="modal">
    <div class="modal-bg" onclick="closeModal('aiModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head">
        <span class="modal-title">ğŸ¤– Asistent AI</span>
        <button class="modal-x" onclick="closeModal('aiModal')">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="ai-chat" id="aiChat">
          <div class="ai-msg">
            <div class="ai-pic">ğŸ¤–</div>
            <div class="ai-bubble">Salut! Sunt Fin, asistentul tÄƒu financiar. Cu ce te pot ajuta?</div>
          </div>
        </div>
        <div class="ai-quick">
          <button class="ai-quick-btn" onclick="askAI('AnalizeazÄƒ cheltuielile')">ğŸ“Š AnalizÄƒ</button>
          <button class="ai-quick-btn" onclick="askAI('Cum economisesc?')">ğŸ’¡ Sfaturi</button>
          <button class="ai-quick-btn" onclick="askAI('PredicÈ›ie')">ğŸ”® PredicÈ›ie</button>
        </div>
        <div class="ai-input-row">
          <input type="text" class="ai-input" id="aiIn" placeholder="Scrie un mesaj..." onkeypress="if(event.key==='Enter')sendAI()">
          <button class="ai-send" onclick="sendAI()">â¤</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Goal Modal -->
  <div id="goalModal" class="modal">
    <div class="modal-bg" onclick="closeModal('goalModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">ğŸ¯ Obiectiv</span><button class="modal-x" onclick="closeModal('goalModal')">âœ•</button></div>
      <div class="modal-body">
        <form id="goalForm" onsubmit="saveGoal(event)">
          <input type="hidden" id="goalId">
          <div class="form-row"><label class="form-label">Nume</label><input type="text" id="goalName" class="form-input" required placeholder="Ex: VacanÈ›Äƒ"></div>
          <div class="form-row"><label class="form-label">SumÄƒ È›intÄƒ</label><input type="number" id="goalTarget" class="form-input" required></div>
          <div class="form-row"><label class="form-label">Economisit</label><input type="number" id="goalSaved" class="form-input" value="0"></div>
          <div class="form-row"><label class="form-label">Deadline</label><input type="date" id="goalDeadline" class="form-input"></div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Budget Modal -->
  <div id="budgetModal" class="modal">
    <div class="modal-bg" onclick="closeModal('budgetModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">ğŸ“Š Buget</span><button class="modal-x" onclick="closeModal('budgetModal')">âœ•</button></div>
      <div class="modal-body">
        <form id="budgetForm" onsubmit="saveBudget(event)">
          <input type="hidden" id="budgetId">
          <div class="form-row"><label class="form-label">Categorie</label><select id="budgetCat" class="form-select" required></select></div>
          <div class="form-row"><label class="form-label">LimitÄƒ lunarÄƒ</label><input type="number" id="budgetLimit" class="form-input" required></div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Account Modal -->
  <div id="accountModal" class="modal">
    <div class="modal-bg" onclick="closeModal('accountModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">ğŸ¦ Cont</span><button class="modal-x" onclick="closeModal('accountModal')">âœ•</button></div>
      <div class="modal-body">
        <form id="accountForm" onsubmit="saveAccount(event)">
          <input type="hidden" id="accountId">
          <div class="form-row"><label class="form-label">Nume</label><input type="text" id="accountName" class="form-input" required placeholder="Ex: ING"></div>
          <div class="form-row"><label class="form-label">Tip</label><select id="accountType" class="form-select"><option value="bank">ğŸ¦ BancÄƒ</option><option value="cash">ğŸ’µ Cash</option><option value="savings">ğŸ· Economii</option></select></div>
          <div class="form-row"><label class="form-label">Sold</label><input type="number" id="accountBal" class="form-input" required></div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Debt Modal -->
  <div id="debtModal" class="modal">
    <div class="modal-bg" onclick="closeModal('debtModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">ğŸ¤ Datorie</span><button class="modal-x" onclick="closeModal('debtModal')">âœ•</button></div>
      <div class="modal-body">
        <div class="type-tabs">
          <button class="type-tab expense active" data-t="owe" onclick="setDebtType('owe')">ğŸ“¤ Datorez</button>
          <button class="type-tab income" data-t="owed" onclick="setDebtType('owed')">ğŸ“¥ Ãmi datoreazÄƒ</button>
        </div>
        <form id="debtForm" onsubmit="saveDebt(event)">
          <input type="hidden" id="debtId"><input type="hidden" id="debtType" value="owe">
          <div class="form-row"><label class="form-label">PersoanÄƒ</label><input type="text" id="debtPerson" class="form-input" required></div>
          <div class="form-row"><label class="form-label">SumÄƒ</label><input type="number" id="debtAmount" class="form-input" required></div>
          <div class="form-row"><label class="form-label">Motiv</label><input type="text" id="debtNote" class="form-input"></div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Reminder Modal -->
  <div id="reminderModal" class="modal">
    <div class="modal-bg" onclick="closeModal('reminderModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">â° Reminder</span><button class="modal-x" onclick="closeModal('reminderModal')">âœ•</button></div>
      <div class="modal-body">
        <form id="reminderForm" onsubmit="saveReminder(event)">
          <input type="hidden" id="reminderId">
          <div class="form-row"><label class="form-label">Nume</label><input type="text" id="reminderName" class="form-input" required></div>
          <div class="form-row"><label class="form-label">SumÄƒ</label><input type="number" id="reminderAmount" class="form-input" required></div>
          <div class="form-row"><label class="form-label">Ziua lunii</label><input type="number" id="reminderDay" class="form-input" min="1" max="31" value="1"></div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Utility Modal -->
  <div id="utilityModal" class="modal">
    <div class="modal-bg" onclick="closeModal('utilityModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">ğŸ’¡ FacturÄƒ</span><button class="modal-x" onclick="closeModal('utilityModal')">âœ•</button></div>
      <div class="modal-body">
        <form id="utilityForm" onsubmit="saveUtility(event)">
          <input type="hidden" id="utilityId">
          <div class="form-row"><label class="form-label">Tip</label><select id="utilityType" class="form-select" required><option value="">SelecteazÄƒ</option><option value="electricity">âš¡ Curent</option><option value="gas">ğŸ”¥ Gaz</option><option value="water">ğŸ’§ ApÄƒ</option><option value="internet">ğŸ“¶ Internet</option></select></div>
          <div class="form-row"><label class="form-label">Luna</label><input type="month" id="utilityMonth" class="form-input" required></div>
          <div class="form-row"><label class="form-label">SumÄƒ</label><input type="number" id="utilityAmount" class="form-input" required></div>
          <button type="submit" class="submit-btn">SalveazÄƒ</button>
        </form>
      </div>
    </div>
  </div>

  <!-- Import Modal -->
  <div id="importModal" class="modal">
    <div class="modal-bg" onclick="closeModal('importModal')"></div>
    <div class="modal-sheet">
      <div class="modal-handle"></div>
      <div class="modal-head"><span class="modal-title">ğŸ“„ Import PDF</span><button class="modal-x" onclick="closeModal('importModal')">âœ•</button></div>
      <div class="modal-body">
        <p style="color:var(--text-secondary);margin-bottom:16px;">AI-ul va categorisa automat tranzacÈ›iile din extrasul tÄƒu bancar.</p>
        <div id="dropZone" style="border:2px dashed var(--border);border-radius:16px;padding:40px;text-align:center;cursor:pointer" onclick="document.getElementById('pdfIn').click()">
          <div style="font-size:40px;margin-bottom:8px;">ğŸ“</div>
          <p style="color:var(--text-secondary);">Click sau trage PDF-ul aici</p>
          <input type="file" id="pdfIn" accept=".pdf" hidden onchange="handlePDF(this.files[0])">
        </div>
      </div>
    </div>
  </div>

  <div class="toasts" id="toasts"></div>

  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="app.js"></script>
</body>
</html>
