<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Budget Pro Ultra</title>
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash" class="splash">
        <div class="splash-content">
            <div class="splash-icon">ğŸ’</div>
            <div class="splash-title">Budget Pro</div>
            <div class="splash-subtitle">Ultra</div>
            <div class="splash-loader"></div>
        </div>
    </div>

    <!-- Auth Screen -->
    <div id="authScreen" class="screen auth-screen">
        <div class="auth-bg"></div>
        <div class="auth-container">
            <div class="auth-logo">ğŸ’</div>
            <h1 class="auth-title">Budget Pro <span>Ultra</span></h1>
            <p class="auth-subtitle">Controlul total al finanÈ›elor tale</p>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Autentificare</button>
                <button class="auth-tab" data-tab="register">Cont nou</button>
            </div>
            
            <form id="loginForm" class="auth-form active">
                <div class="input-group">
                    <span class="input-icon">ğŸ“§</span>
                    <input type="email" id="loginEmail" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ”’</span>
                    <input type="password" id="loginPassword" placeholder="ParolÄƒ" required>
                </div>
                <button type="submit" class="btn-primary">IntrÄƒ Ã®n cont</button>
            </form>
            
            <form id="registerForm" class="auth-form">
                <div class="input-group">
                    <span class="input-icon">ğŸ‘¤</span>
                    <input type="text" id="registerName" placeholder="Nume complet" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ“§</span>
                    <input type="email" id="registerEmail" placeholder="Email" required>
                </div>
                <div class="input-group">
                    <span class="input-icon">ğŸ”’</span>
                    <input type="password" id="registerPassword" placeholder="ParolÄƒ (min. 6 caractere)" required minlength="6">
                </div>
                <button type="submit" class="btn-primary">CreeazÄƒ cont</button>
            </form>
            
            <div class="auth-divider"><span>sau</span></div>
            
            <button id="googleAuth" class="btn-google">
                <svg viewBox="0 0 24 24" width="20" height="20"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                ContinuÄƒ cu Google
            </button>
        </div>
    </div>

    <!-- Main App -->
    <div id="appScreen" class="screen app-screen hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <span class="header-logo">ğŸ’</span>
                <span class="header-title">Budget Pro</span>
            </div>
            <div class="header-right">
                <button id="searchToggle" class="header-btn">ğŸ”</button>
                <button id="aiBtn" class="header-btn ai-btn">âœ¨</button>
                <button id="notifBtn" class="header-btn">ğŸ””<span class="notif-badge hidden">0</span></button>
            </div>
        </header>

        <!-- Search Bar -->
        <div id="searchBar" class="search-bar hidden">
            <div class="search-input-wrap">
                <span class="search-icon">ğŸ”</span>
                <input type="text" id="searchInput" placeholder="CautÄƒ tranzacÈ›ii, categorii...">
                <button id="searchClose" class="search-close">âœ•</button>
            </div>
            <div id="searchResults" class="search-results hidden"></div>
        </div>

        <!-- Views Container -->
        <main class="main-content">
            <!-- Home View -->
            <section id="homeView" class="view active">
                <!-- Month Navigator -->
                <div class="month-nav">
                    <button id="prevMonth" class="month-btn">â®</button>
                    <span id="currentMonth">Decembrie 2025</span>
                    <button id="nextMonth" class="month-btn">â¯</button>
                </div>

                <!-- Balance Card -->
                <div class="balance-card">
                    <div class="balance-header">
                        <span class="balance-label">BalanÈ›a curentÄƒ</span>
                        <span id="balanceChange" class="balance-change positive">+0%</span>
                    </div>
                    <div id="totalBalance" class="balance-amount">0 RON</div>
                    <div class="balance-stats">
                        <div class="stat">
                            <span class="stat-icon income">â†‘</span>
                            <div class="stat-info">
                                <span class="stat-label">Venituri</span>
                                <span id="totalIncome" class="stat-value income">0 RON</span>
                            </div>
                        </div>
                        <div class="stat">
                            <span class="stat-icon expense">â†“</span>
                            <div class="stat-info">
                                <span class="stat-label">Cheltuieli</span>
                                <span id="totalExpense" class="stat-value expense">0 RON</span>
                            </div>
                        </div>
                    </div>
                    <div class="balance-progress">
                        <div class="progress-bar">
                            <div id="spentProgress" class="progress-fill"></div>
                        </div>
                        <span id="spentPercent" class="progress-label">0% din venituri cheltuit</span>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div class="quick-stats">
                    <div class="qstat">
                        <span class="qstat-icon">ğŸ“Š</span>
                        <span class="qstat-label">Media/zi</span>
                        <span id="dailyAvg" class="qstat-value">0 RON</span>
                    </div>
                    <div class="qstat">
                        <span class="qstat-icon">ğŸ¯</span>
                        <span class="qstat-label">PredicÈ›ie</span>
                        <span id="prediction" class="qstat-value">0 RON</span>
                    </div>
                    <div class="qstat">
                        <span class="qstat-icon">ğŸ’°</span>
                        <span class="qstat-label">Economii</span>
                        <span id="savingsRate" class="qstat-value">0%</span>
                    </div>
                    <div class="qstat">
                        <span class="qstat-icon">ğŸ“…</span>
                        <span class="qstat-label">Zile rÄƒmase</span>
                        <span id="daysLeft" class="qstat-value">0</span>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="section-header">
                    <h2>AcÈ›iuni rapide</h2>
                </div>
                <div class="quick-actions">
                    <button class="action-btn expense" onclick="openTransModal('expense')">
                        <span class="action-icon">ğŸ’¸</span>
                        <span>CheltuialÄƒ</span>
                    </button>
                    <button class="action-btn income" onclick="openTransModal('income')">
                        <span class="action-icon">ğŸ’µ</span>
                        <span>Venit</span>
                    </button>
                    <button class="action-btn correction" onclick="openTransModal('correction')">
                        <span class="action-icon">âš–ï¸</span>
                        <span>CorecÈ›ie</span>
                    </button>
                    <button class="action-btn transfer" onclick="openDebtModal()">
                        <span class="action-icon">ğŸ¤</span>
                        <span>Datorie</span>
                    </button>
                </div>

                <!-- AI Insights -->
                <div class="section-header">
                    <h2>ğŸ¤– Insights AI</h2>
                    <button id="refreshInsights" class="refresh-btn">â†»</button>
                </div>
                <div id="aiInsights" class="insights-carousel">
                    <div class="insight-card">
                        <span class="insight-icon">ğŸ’¡</span>
                        <p>AdaugÄƒ tranzacÈ›ii pentru a primi insights personalizate de la AI.</p>
                    </div>
                </div>

                <!-- Chart -->
                <div class="section-header">
                    <h2>ğŸ“Š DistribuÈ›ie cheltuieli</h2>
                </div>
                <div class="chart-container">
                    <canvas id="expenseChart"></canvas>
                    <div id="chartCenter" class="chart-center">
                        <span class="chart-total">0 RON</span>
                        <span class="chart-label">Total</span>
                    </div>
                </div>
                <div id="chartLegend" class="chart-legend"></div>

                <!-- Recent Transactions -->
                <div class="section-header">
                    <h2>TranzacÈ›ii recente</h2>
                    <button onclick="switchView('transactions')" class="see-all">Vezi toate â†’</button>
                </div>
                <div id="recentTrans" class="transactions-list">
                    <div class="empty-state">
                        <span class="empty-icon">ğŸ“</span>
                        <p>Nicio tranzacÈ›ie Ã®ncÄƒ</p>
                    </div>
                </div>

                <!-- Goals Preview -->
                <div class="section-header">
                    <h2>ğŸ¯ Obiective</h2>
                    <button onclick="switchView('goals')" class="see-all">Vezi toate â†’</button>
                </div>
                <div id="goalsPreview" class="goals-preview">
                    <div class="empty-state small">
                        <span class="empty-icon">ğŸ¯</span>
                        <p>Niciun obiectiv</p>
                    </div>
                </div>

                <!-- Debts Summary -->
                <div class="section-header">
                    <h2>ğŸ¤ Datorii</h2>
                    <button onclick="switchView('debts')" class="see-all">Vezi toate â†’</button>
                </div>
                <div id="debtsPreview" class="debts-preview">
                    <div class="debt-summary">
                        <div class="debt-card owe">
                            <span class="debt-label">De plÄƒtit</span>
                            <span id="totalOwe" class="debt-amount">0 RON</span>
                        </div>
                        <div class="debt-card owed">
                            <span class="debt-label">De recuperat</span>
                            <span id="totalOwed" class="debt-amount">0 RON</span>
                        </div>
                    </div>
                </div>

                <!-- Reminders Preview -->
                <div class="section-header">
                    <h2>â° Remindere</h2>
                    <button onclick="switchView('reminders')" class="see-all">Vezi toate â†’</button>
                </div>
                <div id="remindersPreview" class="reminders-preview">
                    <div class="empty-state small">
                        <span class="empty-icon">â°</span>
                        <p>Niciun reminder</p>
                    </div>
                </div>
            </section>

            <!-- Transactions View -->
            <section id="transactionsView" class="view">
                <div class="view-header">
                    <h1>ğŸ’³ TranzacÈ›ii</h1>
                </div>
                
                <!-- Filters -->
                <div class="filters-bar">
                    <button class="filter-btn active" data-filter="all">Toate</button>
                    <button class="filter-btn" data-filter="expense">Cheltuieli</button>
                    <button class="filter-btn" data-filter="income">Venituri</button>
                    <button class="filter-btn" data-filter="correction">CorecÈ›ii</button>
                </div>

                <!-- Month Nav -->
                <div class="month-nav compact">
                    <button class="month-btn" onclick="changeMonth(-1)">â®</button>
                    <span id="transMonth">Decembrie 2025</span>
                    <button class="month-btn" onclick="changeMonth(1)">â¯</button>
                </div>

                <!-- Transactions List -->
                <div id="allTransactions" class="transactions-list full">
                    <div class="empty-state">
                        <span class="empty-icon">ğŸ“</span>
                        <p>Nicio tranzacÈ›ie Ã®n aceastÄƒ lunÄƒ</p>
                    </div>
                </div>
            </section>

            <!-- Analytics View -->
            <section id="analyticsView" class="view">
                <div class="view-header">
                    <h1>ğŸ“ˆ AnalizÄƒ & Trenduri</h1>
                </div>

                <!-- Period Selector -->
                <div class="period-selector">
                    <button class="period-btn" data-period="7">7 zile</button>
                    <button class="period-btn active" data-period="30">30 zile</button>
                    <button class="period-btn" data-period="90">3 luni</button>
                    <button class="period-btn" data-period="365">1 an</button>
                </div>

                <!-- Summary Cards -->
                <div class="analytics-summary">
                    <div class="summary-card income">
                        <span class="summary-icon">ğŸ’µ</span>
                        <div class="summary-info">
                            <span class="summary-label">Total venituri</span>
                            <span id="analyticsIncome" class="summary-value">0 RON</span>
                        </div>
                    </div>
                    <div class="summary-card expense">
                        <span class="summary-icon">ğŸ’¸</span>
                        <div class="summary-info">
                            <span class="summary-label">Total cheltuieli</span>
                            <span id="analyticsExpense" class="summary-value">0 RON</span>
                        </div>
                    </div>
                    <div class="summary-card savings">
                        <span class="summary-icon">ğŸ’°</span>
                        <div class="summary-info">
                            <span class="summary-label">Economii nete</span>
                            <span id="analyticsSavings" class="summary-value">0 RON</span>
                        </div>
                    </div>
                </div>

                <!-- Trend Chart -->
                <div class="section-header">
                    <h2>ğŸ“Š EvoluÈ›ie</h2>
                </div>
                <div class="trend-chart-container">
                    <canvas id="trendChart"></canvas>
                </div>

                <!-- AI Analysis -->
                <div class="section-header">
                    <h2>ğŸ¤– AnalizÄƒ AI</h2>
                    <button id="runAiAnalysis" class="ai-analyze-btn">AnalizeazÄƒ</button>
                </div>
                <div id="aiAnalysis" class="ai-analysis">
                    <p class="ai-placeholder">ApasÄƒ "AnalizeazÄƒ" pentru o analizÄƒ completÄƒ bazatÄƒ pe AI a datelor tale financiare.</p>
                </div>

                <!-- Patterns -->
                <div class="section-header">
                    <h2>ğŸ” Pattern-uri detectate</h2>
                </div>
                <div id="patterns" class="patterns-list">
                    <div class="empty-state small">
                        <p>AdaugÄƒ mai multe tranzacÈ›ii pentru detectarea pattern-urilor</p>
                    </div>
                </div>

                <!-- Anomalies -->
                <div class="section-header">
                    <h2>âš ï¸ Abateri neobiÈ™nuite</h2>
                </div>
                <div id="anomalies" class="anomalies-list">
                    <div class="empty-state small">
                        <p>Nicio abatere detectatÄƒ</p>
                    </div>
                </div>

                <!-- Category Breakdown -->
                <div class="section-header">
                    <h2>ğŸ“‹ Detalii pe categorii</h2>
                </div>
                <div id="categoryBreakdown" class="category-breakdown"></div>
            </section>

            <!-- Goals View -->
            <section id="goalsView" class="view">
                <div class="view-header">
                    <h1>ğŸ¯ Obiective</h1>
                    <button onclick="openGoalModal()" class="add-btn">+ Nou</button>
                </div>

                <!-- Goals Stats -->
                <div class="goals-stats">
                    <div class="gstat">
                        <span id="activeGoals" class="gstat-value">0</span>
                        <span class="gstat-label">Active</span>
                    </div>
                    <div class="gstat">
                        <span id="completedGoals" class="gstat-value">0</span>
                        <span class="gstat-label">Complete</span>
                    </div>
                    <div class="gstat">
                        <span id="totalSaved" class="gstat-value">0 RON</span>
                        <span class="gstat-label">Economisit</span>
                    </div>
                </div>

                <!-- Active Goals -->
                <div class="section-header">
                    <h2>Ãn progres</h2>
                </div>
                <div id="activeGoalsList" class="goals-list"></div>

                <!-- Completed Goals -->
                <div class="section-header">
                    <h2>Completate</h2>
                </div>
                <div id="completedGoalsList" class="goals-list"></div>
            </section>

            <!-- Debts View -->
            <section id="debtsView" class="view">
                <div class="view-header">
                    <h1>ğŸ¤ Datorii</h1>
                    <button onclick="openDebtModal()" class="add-btn">+ Nou</button>
                </div>

                <!-- Debts Summary -->
                <div class="debts-overview">
                    <div class="debt-overview-card owe">
                        <span class="debt-overview-icon">ğŸ“¤</span>
                        <div class="debt-overview-info">
                            <span class="debt-overview-label">Total de plÄƒtit</span>
                            <span id="totalToPayDebts" class="debt-overview-value">0 RON</span>
                        </div>
                    </div>
                    <div class="debt-overview-card owed">
                        <span class="debt-overview-icon">ğŸ“¥</span>
                        <div class="debt-overview-info">
                            <span class="debt-overview-label">Total de recuperat</span>
                            <span id="totalToReceiveDebts" class="debt-overview-value">0 RON</span>
                        </div>
                    </div>
                </div>

                <!-- Debts I Owe -->
                <div class="section-header">
                    <h2>ğŸ’¸ De plÄƒtit</h2>
                </div>
                <div id="debtsOweList" class="debts-list"></div>

                <!-- Debts Owed to Me -->
                <div class="section-header">
                    <h2>ğŸ’µ De recuperat</h2>
                </div>
                <div id="debtsOwedList" class="debts-list"></div>
            </section>

            <!-- Reminders View -->
            <section id="remindersView" class="view">
                <div class="view-header">
                    <h1>â° Remindere</h1>
                    <button onclick="openReminderModal()" class="add-btn">+ Nou</button>
                </div>

                <!-- Upcoming -->
                <div class="section-header">
                    <h2>UrmÄƒtoare</h2>
                </div>
                <div id="upcomingReminders" class="reminders-list"></div>

                <!-- All Reminders -->
                <div class="section-header">
                    <h2>Toate</h2>
                </div>
                <div id="allReminders" class="reminders-list"></div>
            </section>

            <!-- Profile View -->
            <section id="profileView" class="view">
                <div class="view-header">
                    <h1>ğŸ‘¤ Profil</h1>
                </div>

                <!-- Profile Card -->
                <div class="profile-card">
                    <div id="profileAvatar" class="profile-avatar">U</div>
                    <div class="profile-info">
                        <span id="profileName" class="profile-name">Utilizator</span>
                        <span id="profileEmail" class="profile-email">email@example.com</span>
                    </div>
                </div>

                <!-- Stats -->
                <div class="profile-stats">
                    <div class="pstat">
                        <span id="totalTransCount" class="pstat-value">0</span>
                        <span class="pstat-label">TranzacÈ›ii</span>
                    </div>
                    <div class="pstat">
                        <span id="memberSince" class="pstat-value">-</span>
                        <span class="pstat-label">Membru din</span>
                    </div>
                    <div class="pstat">
                        <span id="streakDays" class="pstat-value">0</span>
                        <span class="pstat-label">Zile streak</span>
                    </div>
                </div>

                <!-- Settings -->
                <div class="settings-section">
                    <h3>âš™ï¸ SetÄƒri</h3>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-icon">ğŸ’±</span>
                            <span class="setting-label">MonedÄƒ</span>
                        </div>
                        <select id="currencySelect" class="setting-select">
                            <option value="RON">RON</option>
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                            <option value="GBP">GBP</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-icon">ğŸ””</span>
                            <span class="setting-label">NotificÄƒri</span>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="notifToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <span class="setting-icon">ğŸŒ™</span>
                            <span class="setting-label">Mod Ã®ntunecat</span>
                        </div>
                        <label class="toggle">
                            <input type="checkbox" id="darkToggle" checked>
                            <span class="toggle-slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Export -->
                <div class="settings-section">
                    <h3>ğŸ“¤ Export date</h3>
                    <div class="export-buttons">
                        <button onclick="exportJSON()" class="export-btn">ğŸ“„ Export JSON</button>
                        <button onclick="exportCSV()" class="export-btn">ğŸ“Š Export CSV</button>
                    </div>
                </div>

                <!-- Danger Zone -->
                <div class="settings-section danger">
                    <h3>âš ï¸ Zona periculoasÄƒ</h3>
                    <button onclick="clearAllData()" class="danger-btn">ğŸ—‘ï¸ È˜terge toate datele</button>
                    <button onclick="logout()" class="logout-btn">ğŸšª Deconectare</button>
                </div>
            </section>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-view="home">
                <span class="nav-icon">ğŸ </span>
                <span class="nav-label">AcasÄƒ</span>
            </button>
            <button class="nav-item" data-view="transactions">
                <span class="nav-icon">ğŸ’³</span>
                <span class="nav-label">TranzacÈ›ii</span>
            </button>
            <button class="nav-item add-nav" onclick="openTransModal('expense')">
                <span class="nav-icon-add">+</span>
            </button>
            <button class="nav-item" data-view="analytics">
                <span class="nav-icon">ğŸ“ˆ</span>
                <span class="nav-label">AnalizÄƒ</span>
            </button>
            <button class="nav-item" data-view="profile">
                <span class="nav-icon">ğŸ‘¤</span>
                <span class="nav-label">Profil</span>
            </button>
        </nav>
    </div>

    <!-- Transaction Modal -->
    <div id="transModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('transModal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="transModalTitle">AdaugÄƒ tranzacÈ›ie</h2>
                <button class="modal-close" onclick="closeModal('transModal')">âœ•</button>
            </div>
            
            <div class="trans-type-tabs">
                <button class="type-tab active" data-type="expense">ğŸ’¸ CheltuialÄƒ</button>
                <button class="type-tab" data-type="income">ğŸ’µ Venit</button>
                <button class="type-tab" data-type="correction">âš–ï¸ CorecÈ›ie</button>
            </div>

            <form id="transForm" class="modal-form">
                <input type="hidden" id="transId">
                <input type="hidden" id="transType" value="expense">

                <div class="form-group">
                    <label>SumÄƒ</label>
                    <div class="amount-input">
                        <span id="amountCurrency" class="currency">RON</span>
                        <input type="number" id="transAmount" placeholder="0.00" step="0.01" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Categorie</label>
                    <select id="transCategory" required></select>
                </div>

                <div class="form-group">
                    <label>Subcategorie</label>
                    <select id="transSubcategory"></select>
                </div>

                <div class="form-group">
                    <label>Descriere (opÈ›ional)</label>
                    <input type="text" id="transDescription" placeholder="Detalii...">
                </div>

                <div class="form-group">
                    <label>Data</label>
                    <input type="date" id="transDate" required>
                </div>

                <div class="form-group recurring-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="transRecurring">
                        <span>TranzacÈ›ie recurentÄƒ</span>
                    </label>
                </div>

                <div id="recurringOptions" class="recurring-options hidden">
                    <div class="form-group">
                        <label>RepetÄƒ</label>
                        <select id="recurringFreq">
                            <option value="daily">Zilnic</option>
                            <option value="weekly">SÄƒptÄƒmÃ¢nal</option>
                            <option value="monthly" selected>Lunar</option>
                            <option value="yearly">Anual</option>
                        </select>
                    </div>
                </div>

                <button type="submit" class="btn-submit">SalveazÄƒ</button>
            </form>
        </div>
    </div>

    <!-- AI Chat Modal -->
    <div id="aiModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('aiModal')"></div>
        <div class="modal-content ai-modal">
            <div class="modal-header">
                <h2>âœ¨ Asistent AI</h2>
                <button class="modal-close" onclick="closeModal('aiModal')">âœ•</button>
            </div>

            <div id="aiMessages" class="ai-messages">
                <div class="ai-message assistant">
                    <div class="ai-avatar">ğŸ¤–</div>
                    <div class="ai-bubble">
                        <p>BunÄƒ! Sunt asistentul tÄƒu financiar AI. ÃntreabÄƒ-mÄƒ orice despre finanÈ›ele tale!</p>
                        <p class="ai-hint">Exemple: "AnalizeazÄƒ cheltuielile mele", "Cum pot economisi mai mult?", "Care e predicÈ›ia pentru luna asta?"</p>
                    </div>
                </div>
            </div>

            <div class="ai-quick-actions">
                <button class="ai-quick" onclick="askAI('FÄƒ o analizÄƒ completÄƒ a finanÈ›elor mele')">ğŸ“Š AnalizÄƒ completÄƒ</button>
                <button class="ai-quick" onclick="askAI('Ce pattern-uri de cheltuieli am?')">ğŸ” Pattern-uri</button>
                <button class="ai-quick" onclick="askAI('DÄƒ-mi sfaturi de economisire personalizate')">ğŸ’¡ Sfaturi</button>
                <button class="ai-quick" onclick="askAI('Care e predicÈ›ia pentru aceastÄƒ lunÄƒ?')">ğŸ¯ PredicÈ›ie</button>
                <button class="ai-quick" onclick="askAI('Sunt abateri neobiÈ™nuite Ã®n cheltuielile mele?')">âš ï¸ Abateri</button>
                <button class="ai-quick" onclick="askAI('CreeazÄƒ un plan de buget pentru mine')">ğŸ“‹ Plan buget</button>
            </div>

            <div class="ai-input-wrap">
                <input type="text" id="aiInput" placeholder="ÃntreabÄƒ orice despre finanÈ›ele tale...">
                <button id="aiSend" class="ai-send">â¤</button>
            </div>
        </div>
    </div>

    <!-- Goal Modal -->
    <div id="goalModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('goalModal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="goalModalTitle">Obiectiv nou</h2>
                <button class="modal-close" onclick="closeModal('goalModal')">âœ•</button>
            </div>

            <form id="goalForm" class="modal-form">
                <input type="hidden" id="goalId">

                <div class="form-group">
                    <label>Nume obiectiv</label>
                    <input type="text" id="goalName" placeholder="ex: VacanÈ›Äƒ Ã®n Grecia" required>
                </div>

                <div class="form-group">
                    <label>SumÄƒ È›intÄƒ</label>
                    <div class="amount-input">
                        <span class="currency">RON</span>
                        <input type="number" id="goalTarget" placeholder="0.00" step="0.01" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>SumÄƒ economisitÄƒ</label>
                    <div class="amount-input">
                        <span class="currency">RON</span>
                        <input type="number" id="goalSaved" placeholder="0.00" step="0.01" value="0">
                    </div>
                </div>

                <div class="form-group">
                    <label>Deadline (opÈ›ional)</label>
                    <input type="date" id="goalDeadline">
                </div>

                <div class="form-group">
                    <label>Icon</label>
                    <div class="icon-picker">
                        <button type="button" class="icon-btn active" data-icon="ğŸ¯">ğŸ¯</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ–ï¸">ğŸ–ï¸</button>
                        <button type="button" class="icon-btn" data-icon="ğŸš—">ğŸš—</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ ">ğŸ </button>
                        <button type="button" class="icon-btn" data-icon="ğŸ’»">ğŸ’»</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ“±">ğŸ“±</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ‘¶">ğŸ‘¶</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ’">ğŸ’</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ“">ğŸ“</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ’°">ğŸ’°</button>
                        <button type="button" class="icon-btn" data-icon="ğŸ">ğŸ</button>
                        <button type="button" class="icon-btn" data-icon="âœˆï¸">âœˆï¸</button>
                    </div>
                    <input type="hidden" id="goalIcon" value="ğŸ¯">
                </div>

                <button type="submit" class="btn-submit">SalveazÄƒ</button>
            </form>
        </div>
    </div>

    <!-- Debt Modal -->
    <div id="debtModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('debtModal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="debtModalTitle">AdaugÄƒ datorie</h2>
                <button class="modal-close" onclick="closeModal('debtModal')">âœ•</button>
            </div>

            <div class="debt-type-tabs">
                <button class="debt-tab active" data-type="owe">ğŸ’¸ De plÄƒtit</button>
                <button class="debt-tab" data-type="owed">ğŸ’µ De recuperat</button>
            </div>

            <form id="debtForm" class="modal-form">
                <input type="hidden" id="debtId">
                <input type="hidden" id="debtType" value="owe">

                <div class="form-group">
                    <label id="personLabel">Cui datorezi?</label>
                    <input type="text" id="debtPerson" placeholder="Nume persoanÄƒ" required>
                </div>

                <div class="form-group">
                    <label>SumÄƒ</label>
                    <div class="amount-input">
                        <span class="currency">RON</span>
                        <input type="number" id="debtAmount" placeholder="0.00" step="0.01" required>
                    </div>
                </div>

                <div class="form-group">
                    <label>Motiv (opÈ›ional)</label>
                    <input type="text" id="debtReason" placeholder="Pentru ce?">
                </div>

                <div class="form-group">
                    <label>Deadline (opÈ›ional)</label>
                    <input type="date" id="debtDeadline">
                </div>

                <button type="submit" class="btn-submit">SalveazÄƒ</button>
            </form>
        </div>
    </div>

    <!-- Reminder Modal -->
    <div id="reminderModal" class="modal">
        <div class="modal-overlay" onclick="closeModal('reminderModal')"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="reminderModalTitle">Reminder nou</h2>
                <button class="modal-close" onclick="closeModal('reminderModal')">âœ•</button>
            </div>

            <form id="reminderForm" class="modal-form">
                <input type="hidden" id="reminderId">

                <div class="form-group">
                    <label>Titlu</label>
                    <input type="text" id="reminderTitle" placeholder="ex: PlatÄƒ chirie" required>
                </div>

                <div class="form-group">
                    <label>SumÄƒ (opÈ›ional)</label>
                    <div class="amount-input">
                        <span class="currency">RON</span>
                        <input type="number" id="reminderAmount" placeholder="0.00" step="0.01">
                    </div>
                </div>

                <div class="form-group">
                    <label>Data</label>
                    <input type="date" id="reminderDate" required>
                </div>

                <div class="form-group">
                    <label>RepetÄƒ</label>
                    <select id="reminderRepeat">
                        <option value="once">O singurÄƒ datÄƒ</option>
                        <option value="weekly">SÄƒptÄƒmÃ¢nal</option>
                        <option value="monthly">Lunar</option>
                        <option value="yearly">Anual</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Categorie (opÈ›ional)</label>
                    <select id="reminderCategory">
                        <option value="">Alege...</option>
                    </select>
                </div>

                <button type="submit" class="btn-submit">SalveazÄƒ</button>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
